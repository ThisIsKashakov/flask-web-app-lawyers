{% extends "base.html" %}

{% block title %}
    New Court
{% endblock %}

{% block content %}
    <div class="container mt-4">
        <div class="text-center">
            <h1>New Court</h1>
            <hr />
        </div>

        <form method="post" onsubmit="return validateForm()">
            <div class="form-group">
                <label for="exampleInputTitle1">Title</label>
                <input
                    type="text"
                    class="form-control"
                    id="exampleInputTitle1"
                    name="title"
                    aria-describedby="titleHelp"
                    placeholder="Enter title"
                />
            </div>
            <div class="form-group">
                <label for="exampleInputAddress1">Address</label>
                <input
                    type="text"
                    class="form-control"
                    id="exampleInputAddress1"
                    name="address"
                    placeholder="Enter address"
                />
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>

    <script>
        function validateForm() {
            var title = document.getElementById("exampleInputTitle1").value;
            var address = document.getElementById("exampleInputAddress1").value;
            var forbiddenChars = [
                ";",
                "--",
                "'",
                '"',
                "=",
                "<",
                ">",
                "|",
                "&",
                "$",
                "@",
                "%",
                "^",
                "*",
                "(",
                ")",
                "[",
                "]",
                "{",
                "}",
                "`",
                "~",
            ];
            var regex = new RegExp(
                "[" + forbiddenChars.join("").replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&") + "]"
            );

            if (regex.test(title) || regex.test(address)) {
                alert("Input contains forbidden characters.");
                return false;
            }

            if (title.length < 1 || title.length > 100) {
                alert("Title must be between 1 and 100 characters long.");
                return false;
            }

            if (address.length < 1 || address.length > 100) {
                alert("Address must be between 1 and 100 characters long.");
                return false;
            }

            return true;
        }
    </script>
{% endblock %}
